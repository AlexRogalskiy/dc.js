<!DOCTYPE html>
<html lang="en">
  <head>
    <title>dc.js - Scatter Plot Example</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/dc.css" />
  </head>
  <body>
    <div class="container">
      <div id="header"></div>
      <div id="test"></div>

      <script type="text/javascript" src="header.js"></script>
      <script type="text/javascript" src="../js/d3.js"></script>
      <script type="text/javascript" src="../js/crossfilter.js"></script>
      <script type="text/javascript" src="../js/dc.js"></script>
      <script type="text/javascript">
        const chart = new dc.ScatterPlot('#test');
        d3.csv('morley.csv').then(experiments => {
          experiments.forEach(x => {
            x.Speed = +x.Speed;
          });

          const ndx = crossfilter(experiments),
            runDimension = ndx.dimension(d => [+d.Run, +d.Speed]),
            speedSumGroup = runDimension.group();

          chart
            .width(768)
            .height(480)
            .x(d3.scaleLinear().domain([6, 20]))
            .brushOn(false)
            .symbolSize(8)
            .clipPadding(10)
            .yAxisLabel('This is the Y Axis!')
            .dimension(runDimension)
            .group(speedSumGroup);

          chart.render();
        });
      </script>
    </div>
  </body>
</html>
